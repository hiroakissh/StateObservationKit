# StateObservationKit の思想

## 概要
StateObservationKit は、Swift 6 と Observation フレームワークを前提にした状態駆動型アプリ設計 (State-Driven Architecture) を支援するためのライブラリです。状態を中心に据えたアプリ設計を、標準ライブラリとモダンな Swift 機能のみで実現することを目的としています。

## 設計哲学
- **状態 (State) は単一の真実の源泉 (Single Source of Truth)**
  - 全ての UI 描画とロジック判断は状態に基づいて行い、状態以外に真実を重複保持しないようにします。
- **状態遷移 (Event) は明示的かつ型安全に定義する**
  - `enum` を用いた遷移定義によって、発火し得るイベントと遷移先を網羅し、意図しない分岐や既定の fallthrough を排除します。
- **副作用は StateMachine 内で完結させず、UseCase に委譲する**
  - StateMachine は制御フローを担い、副作用や I/O は境界レイヤーである UseCase に分離します。
- **View は `@Bindable` により状態を監視し、網羅的に描画する**
  - View から状態を参照する際は `switch` によって全ケースを列挙し、抜け漏れのない UI を表現します。
- **`default` ケースを排除し、状態遷移の完全性を保証する**
  - すべての状態に対して明示的な分岐を書くことで、将来的な状態追加やリファクタリング時にも安全性を保ちます。

## 目的
> 状態を中心にしたアプリケーション構造を、Swift の標準機能 (Observation / Sendable / Concurrency) で表現可能にする。

StateObservationKit は、アプリ全体で一貫した状態駆動設計を行うための骨組みを提供します。状態・イベント・副作用の責務を明瞭に分離し、テストしやすく拡張性の高いアプリケーションを構築するための共通言語を目指しています。

## まとめ
StateObservationKit は「状態がロジックを駆動する」Swift 6 向けの軽量・型安全な状態遷移フレームワークです。状態遷移、Observation、非同期副作用、永続化を統合し、クリーンでテスタブルなアプリケーションアーキテクチャを実現します。
