# コントリビューションガイド

StateObservationKit への貢献を歓迎します。本ガイドでは、Pull Request を作成する際の基本的な方針と、レビューで重視するポイントを示します。

## 開発方針
- 新しい StateMachine 型を追加する場合は、`ObservationDrivenStateMachine` または `TransitionDrivenStateMachine` を拡張し、既存の API と一貫した設計を保ってください。
- 状態やイベントを追加する際は、すべてのケースを列挙したテストを用意し、`default` ケースに依存しない遷移を保証してください。
- `docs/architecture.md` に記載の依存方向 (View → StateMachine → UseCase → Repository) を満たしていることを確認してください。

## コード品質
- 副作用を伴う処理は UseCase で実装し、StateMachine では `dispatch(_:)` を通じた状態制御に集中してください。
- Observation 対応のコンポーネントでは、`@Observable` / `@Bindable` を適切に適用し、`canImport` ガードを忘れないようにします。
- テストでは `Testing/` 配下のモックやスタブを活用し、副作用のない状態遷移ロジックを重点的に検証してください。

## Pull Request の流れ
1. 変更内容と背景を説明する Issue や Pull Request を作成します。
2. `swift test` を実行し、StateMachine の遷移ログや副作用が期待どおりであることを確認します。
3. ドキュメントやサンプルコードを更新し、利用者が変更点を理解できるようにします。
4. Reviewer からのフィードバックを取り込み、依存方向とテストの網羅性を再確認してください。

## ライセンスとコミュニケーション
- すべての貢献はプロジェクトのライセンスに従います。
- 質問や提案は Issue で議論するか、ディスカッションチャンネルがある場合はそちらを活用してください。
- コードスタイルや設計上の判断が不明な場合は、既存実装やドキュメントを参照し、必要に応じて提案を添えて相談してください。

一貫した状態駆動設計を維持するため、上記方針に沿ったコントリビューションをお待ちしています。
